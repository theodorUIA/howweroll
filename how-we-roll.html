<!DOCTYPE html>
<html lang="no">
<head>
    
    <meta charset="utf-8">
    <title>HowWeRoll</title>
<style>
        /* Skjermoppløsning under 600px */
        @media screen and (max-width: 600px) {
            .topnav a, .topnav input[type=text] {
                float: none;
                display: block;
                text-align: left;
                width: 100%;
                margin: 0;
                padding: 14px;
            }
            .topnav input[type=text] {
                border: 1px solid #ccc;
            }
            h4 {
                padding-top: 40px;
                padding-bottom: 0px;
                margin: 0px;
                font-size: 1.5vw;
            }

            .text-align-left{ text-align: left;font-size: 3vw; }
            .text-align-right{  text-align: right;font-size: 3vw; }
            .text-align-center{ text-align: center;font-size: 3vw; }
            .header{
                text-align: left;
                background-color: #264653;
                height: 30px;
                width: auto;
                padding-top: 30px;
                padding-bottom: 30px;
                padding-left: 1%;

            }
            .topnav {
                overflow: hidden;
                background-color: #264653;
                padding-left: 5%;
                padding-right: 10%;
            }

            .header-text {
                padding: 30px;
            }
        }



        .text-align-left{ text-align: left; }
        .text-align-right{  text-align: right; }
        .text-align-center{ text-align: center; }

        body {
            margin: 0px;
            font-family: Arial;
        }
        .header{
            text-align: left;
            background-color: #264653;
            height: 30px;
            padding-top: 30px;
            padding-bottom: 30px;
            padding-left: 50px;
        }
        .header-text{
            font-style: italic;
            font-size: 30px;
            font-family: Arial;
            color: white;
        }

        /* Div som omkranser innhold utenom header */
        .main-content {
            padding: 25px 25px 25px 50px;
        }

        /* Meny i header  */
        .topnav {
            overflow: hidden;
            background-color: #264653;
            padding-left: 50px;
            padding-right: 15px;
        }
        .topnav a {
            float: left;
            display: block;
            color: #e76f51;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
            font-size: 17px;
        }
        .topnav a:hover {
            background-color: #e76f51;
            color: #264563;
        }
        .topnav a.active {
            background-color: #2A9D8F;
            color: #264563;
        }
        .topnav input[type=text] {
            float: right;
            padding: 6px;
            border: none;
            margin-top: 8px;
            margin-right: 3px;
            font-size: 17px;
        }
        .topnav input[type=button]{
            float:right;
            border: none;
            margin-top: 6px;
            margin-right: 16px;
            background-color: #264563 ;
            font-size: 16px;
            cursor: pointer;
            height: 36px;
            width: 60px;
            border: none;
            color: white;
            align-items: center;
        }
        .topnav input[type=button]:hover{
            font-weight: bolder;
            background-color:#2A9D8F ;
            color: #264563;
        }

        h4 {
            padding-top: 40px;
            padding-bottom: 0px;
            margin: 0px;
        }

        /* Form styles */
        .form-div {
            max-width: 600px;
        }
        .form-table {
            width: 100%;
        }
        .form-ferdigheter {
            border-radius: 4px;
            font-size: 15px;
            border: 1px solid #8C8C8C;
            padding: 7px;
        }
        .slider {
            -webkit-appearance: none;
            width: 100%;
            height: 5px;
            background: #2A9D8F;
            outline: none;
            opacity: 0.7;
            -webkit-transition: .2s;
            transition: opacity .2s;
        }
        .slider:hover{
            opacity: 1;
        }
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            background: #264653;
            width: 18px;
            height: 18px;
            cursor: pointer;
            border-radius: 50%;
        }
        .slidercontainer{
            width: 100%;
            border: 0px solid black;
        }
        .slidercontainer td{
            border: 0px solid black;
            width: 33.3%;
        }
        .form-textinput {
            border-radius: 4px;
            font-size: 15px;
            border: 1px solid #8C8C8C;
            padding: 7px;
        }

        .submit
        {
            color: white;
        }
        .submit:hover
        {
            font-weight: bold;
            border-radius: 50%;

        }
        .btn
        {
            background-color: #2A9D8F ;
            font-size: 16px;
            cursor: pointer;
            height: 40px;
            width: 140px;
            border-radius: 12px;
            border: none;
        }
        .btncontainer
        {
            text-align: center;
            width: 100%;
        }

        @keyframes fadeIn {
            0% {
                opacity: 0;
            }
            100% {
                opacity: 1;
            }
        }
        .svg-shadow {
            -webkit-filter: drop-shadow( 0px 0px 3px rgba(0, 0, 0, .3));
            filter: drop-shadow( 0px 0px 3px rgba(0, 0, 0, .3));
        }
    </style>
</head>
<body>

<!--Header-->

<div class="header"><span class="header-text">How We Roll</span></div>

<div class="topnav">
    <a href="index.html">Hjem</a>
    <a class="active" href="how-we-roll.html">Profil</a>
    <a href="hwr-report.html">Rapport</a>
    <input type="button" value="Søk" onclick="OnlyAPlaceHolder()">
    <input type="text" placeholder="Søk...">

</div>
<form id="HWR-form">
    <div class="main-content">

        <!--Overskrift på profilsiden-->

<h2>Registrer din profil her</h2>
        <p>Kartlegg din info og dine preferanser for å gi dine medarbeidere innsikt i deg og dine vaner.</p>

<div id='localstorage-tekst'></div>
<div class="form-div">
<table class="form-table">
    <tr>
        <td class="text-align-right">
        <label for="fname">Fornavn:</label>
        </td>
        <td class="text-align-left"><input type="text" name="fname" id="fname" class='form-textinput' placeholder="Fornavn">
        <td class="text-align-right">
        <label for="lname">Etternavn:</label>
    </td>
        <td class="text-align-left"><input type="text" name="lname" id="lname" class='form-textinput' placeholder="Etternavn"></td>
    </tr>
    <tr>
        <td class="text-align-right">
        <label for="phone">Telefon:</label>
        </td>
        <td class="text-align-left"><input type="number" name="phone" id="phone" class='form-textinput' placeholder="Telefon nr"></td>
        <td class="text-align-right">
        <label for="email">E-post:</label>
        </td>
        <td class="text-align-left"><input type="email" name="email" id="email" class='form-textinput' placeholder="E-post"></td>
    </tr>
</table>

    <!--Slidere-->

        <h4><label for="ferdigheter">Skriv inn dine ferdigheter her:</label></h4>

    <textarea name="ferdigheter" id="ferdigheter" rows="4" cols="50" class="form-ferdigheter"></textarea>
        <h4><label for="hours">Når jobber du best?</label></h4>
    <table class="slidercontainer">
        <tr>
            <td colspan="3"><input type="range" name="hours" id="hours" min="0" max="100" value="50" class="slider"></td>
        </tr>
        <tr>
            <td class="text-align-left">Morgenfugl</td>
            <td class="text-align-center">Nøytral</td>
            <td class="text-align-right">Natteravn</td>
        </tr>
    </table>

    <h4><label for="akt">Hvor aktiv er du?</label></h4>
<table class="slidercontainer">
    <tr>
        <td colspan="3"><input type="range" name="akt" id="akt" min="0" max="100" value="50" class="slider"></td>
    </tr>
    <tr>
        <td class="text-align-left">Sofagris</td>
        <td class="text-align-center">Moderat</td>
        <td class="text-align-right">Atletisk</td>
    </tr>
</table>
    <h4><label for="work">Hvordan foretrekker du å jobbe?</label></h4>
<table class="slidercontainer">
    <tr>
        <td colspan="3"><input type="range" name="work" id="work" min="0" max="100" value="50" class="slider"></td>
    </tr>
    <tr>
        <td class="text-align-left">Selvstendig</td>
        <td class="text-align-center">Nøytral</td>
        <td class="text-align-right">Samarbeid</td>
    </tr>
</table>


<h4><label for="dify">Foretrekker du hjemmekontor eller fysisk oppmøte?</label></h4>

<table class="slidercontainer">
    <tr>
        <td colspan="3"><input type="range" name="dify" id="dify" min="0" max="100" value="50" class="slider"></td>
    </tr>
    <tr>
        <td class="text-align-left">Hjemmekontor</td>
        <td class="text-align-center">Nøytral</td>
        <td class="text-align-right">Fysisk</td>
    </tr>
</table>

        <h4><label for="bgrp">Foretrekker du å fortelle bakgrunnshistorie eller gå rett på sak?</label></h4>
<table class="slidercontainer">
<tr>
    <td colspan="3"><input type="range" name="bgrp" id="bgrp" min="0" max="100" value="50" class="slider"></td>
</tr>
<tr>
    <td class="text-align-left">Bakgrunnshistorie</td>
    <td class="text-align-center">Nøytral</td>
    <td class="text-align-right">Rett på sak</td>
</tr>
</table>

<br><br>

<div class="btncontainer">
    <button class="btn submit" type="submit">Submit</button> 
</div>

</form>

</div>

<!--Resultat på undersøkelse-->
<br><br>
    <div class='results'>
        Her kommer resultat:<br>
        <pre></pre>
    </div>
</div>
</div>

<!--Javascript for dokumentet-->

<script>

    //Sjekker om skjemaet er fylt ut fra før og skriver ut en melding til div-elementet med ID "localstorage-tekst".
    if (localStorage.trxid) {
      document.getElementById("localstorage-tekst").innerHTML = "<span style='color: red;'>Du har allerede fylt ut dette skjemaet, men du er velkommen til å fylle ut en gang til!</span><br><br>";
    }

   // From https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch (seen 2021-09-27)
   // Example POST method implementation using fetch:
   async function postData(url = '', data = {}) {
       // Default options are marked with *
       const response = await fetch(url, {
           method: 'POST', // *GET, POST, PUT, DELETE, etc.
           mode: 'cors', // no-cors, *cors, same-origin
           cache: 'no-cache', // *default, no-cache, reload, force-cache,only-if-cached
           credentials: 'same-origin', // include, *same-origin, omit
           headers: {
               'Content-Type': 'application/json',
                // 'Content-Type': 'application/x-www-form-urlencoded',
           },
           redirect: 'follow', // manual, *follow, error
           referrerPolicy: 'no-referrer', // no-referrer,*no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url
           body: JSON.stringify(data) // body data type must match"Content-Type"header
       });
       return response.json(); // parses JSON response into native JavaScriptobjects
   }

   function handleSubmit(event) {
        event.preventDefault();
        const data = new FormData(event.target);
        const formJSON = Object.fromEntries(data.entries());
        const results = document.querySelector('.results pre');
        postData('https://bacit.info/', formJSON)
        .then(data => {
            let trxid = JSON.stringify(data.trxid, null, 2).replace(/"/g, "");
            let time = JSON.stringify(data.time, null, 2).replace(/"/g, "");
            localStorage.setItem("trxid", trxid);
            localStorage.setItem("time", time);
           results.innerText = JSON.stringify(data, null, 2);
        document.getElementById("HWR-form").reset();
        
        ScrollDown();
        return false;
        });
   }
   const form = document.querySelector('form');
   form.addEventListener('submit', handleSubmit);
   

   // just an alert message for when users try to use the search bar
   function OnlyAPlaceHolder(){
	  alert("this item doesn't have much functionality yet and is only a placeholder")
  }

function ScrollDown(){window.scrollTo(0,document.body.scrollHeight);}


</script>
</body>
</html>